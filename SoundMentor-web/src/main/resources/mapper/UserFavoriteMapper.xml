<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.soundmentor.soundmentorweb.mapper.UserFavoriteMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.soundmentor.soundmentorpojo.DO.UserFavoriteDO">
        <id column="id" property="id" />
        <result column="user_id" property="userId" />
        <result column="favorite_id" property="favoriteId" />
        <result column="create_time" property="createTime" />
    </resultMap>
    <select id="pageFavoriteSound"
            resultType="com.soundmentor.soundmentorpojo.DTO.userSound.res.UserSoundLibDTO">
        select
        usr.id AS id,
        usr.sound_name AS soundName,
        usr.type AS type,
        usr.status AS status,
        usr.api_param AS apiParam,
        usr.sound_url AS soundUrl,
        usr.description AS description
        from user_favorite uf
        inner join user_sound_rel usr on usr.id = uf.favorite_id
        where uf.user_id = #{param.userId}
        order by usr.create_time desc
    </select>

</mapper>
